import { Dialog, Transition } from "@headlessui/react";
import cx from "classnames";
import { Fragment } from "react";

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  onConfirm: () => void;
  yesText?: string;
  noText?: string;
  alertType: "warning" | "danger" | "success";
  title?: string;
  subTitle?: string;
}

export default function ConfirmationModal({
  isOpen,
  onClose,
  onConfirm,
  yesText = "Yes",
  noText = "No",
  alertType = "warning",
  title = "",
  subTitle = "",
}: ModalProps): React.ReactElement {
  return (
    <>
      <Transition
        appear
        show={isOpen}
        as={Fragment}
      >
        <Dialog
          as="div"
          className="relative z-10"
          onClose={onClose}
        >
          <Transition.Child
            as={Fragment}
            enter="ease-out duration-300"
            enterFrom="opacity-0"
            enterTo="opacity-100"
            leave="ease-in duration-200"
            leaveFrom="opacity-100"
            leaveTo="opacity-0"
          >
            <div className="fixed inset-0 bg-black bg-opacity-25" />
          </Transition.Child>

          <div className="fixed inset-0 overflow-y-auto">
            <div className="flex min-h-full items-center justify-center p-4 text-center">
              <Transition.Child
                as={Fragment}
                enter="ease-out duration-300"
                enterFrom="opacity-0 scale-95"
                enterTo="opacity-100 scale-100"
                leave="ease-in duration-200"
                leaveFrom="opacity-100 scale-100"
                leaveTo="opacity-0 scale-95"
              >
                <Dialog.Panel className="w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all">
                  <div className="text-center">
                    {alertType === "warning" && (
                      <svg
                        className="mx-auto"
                        width="88"
                        height="88"
                        viewBox="0 0 88 88"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <rect
                          width="88"
                          height="88"
                          rx="44"
                          fill="#FFF7D2"
                          fill-opacity="0.2"
                        />
                        <rect
                          x="10"
                          y="10"
                          width="68"
                          height="68"
                          rx="34"
                          fill="#FEEBA6"
                          fill-opacity="0.2"
                        />
                        <path
                          opacity="0.2"
                          d="M60.3987 60.5H27.6012C25.2349 60.5 23.7499 58.0231 24.8993 56.0169L41.2981 27.5413C42.4793 25.4788 45.5206 25.4788 46.7018 27.5413L63.1006 56.0169C64.2499 58.0231 62.7649 60.5 60.3987 60.5Z"
                          fill="#FDBA22"
                        />
                        <path
                          d="M64.4001 55.2669L48.0032 26.7913C47.5934 26.0936 47.0085 25.5152 46.3063 25.1132C45.6041 24.7113 44.8091 24.4999 44.0001 24.4999C43.191 24.4999 42.396 24.7113 41.6938 25.1132C40.9916 25.5152 40.4067 26.0936 39.9969 26.7913L23.6001 55.2669C23.2058 55.9417 22.998 56.7091 22.998 57.4906C22.998 58.2721 23.2058 59.0396 23.6001 59.7144C24.0046 60.4162 24.5885 60.9978 25.292 61.3995C25.9955 61.8012 26.7932 62.0084 27.6032 62H60.3969C61.2063 62.0077 62.0032 61.8002 62.706 61.3985C63.4088 60.9969 63.9921 60.4157 64.3963 59.7144C64.7911 59.0399 64.9995 58.2726 65.0002 57.4911C65.0009 56.7096 64.7937 55.942 64.4001 55.2669ZM61.7994 58.2125C61.6565 58.4563 61.4513 58.6578 61.2048 58.7962C60.9584 58.9345 60.6795 59.0049 60.3969 59H27.6032C27.3206 59.0049 27.0418 58.9345 26.7953 58.7962C26.5488 58.6578 26.3436 58.4563 26.2007 58.2125C26.0712 57.9933 26.0029 57.7434 26.0029 57.4888C26.0029 57.2342 26.0712 56.9842 26.2007 56.765L42.5976 28.2894C42.7434 28.0467 42.9495 27.8459 43.196 27.7065C43.4424 27.5671 43.7207 27.4938 44.0038 27.4938C44.2869 27.4938 44.5652 27.5671 44.8117 27.7065C45.0581 27.8459 45.2642 28.0467 45.4101 28.2894L61.8069 56.765C61.9353 56.9849 62.0023 57.2352 62.001 57.4898C61.9996 57.7444 61.93 57.994 61.7994 58.2125ZM42.5001 47V39.5C42.5001 39.1022 42.6581 38.7206 42.9394 38.4393C43.2207 38.158 43.6022 38 44.0001 38C44.3979 38 44.7794 38.158 45.0607 38.4393C45.342 38.7206 45.5001 39.1022 45.5001 39.5V47C45.5001 47.3978 45.342 47.7794 45.0607 48.0607C44.7794 48.342 44.3979 48.5 44.0001 48.5C43.6022 48.5 43.2207 48.342 42.9394 48.0607C42.6581 47.7794 42.5001 47.3978 42.5001 47ZM46.2501 53.75C46.2501 54.195 46.1181 54.63 45.8709 55C45.6236 55.37 45.2722 55.6584 44.8611 55.8287C44.45 55.999 43.9976 56.0436 43.5611 55.9568C43.1246 55.87 42.7237 55.6557 42.4091 55.341C42.0944 55.0263 41.8801 54.6254 41.7933 54.189C41.7065 53.7525 41.751 53.3001 41.9213 52.889C42.0916 52.4778 42.38 52.1264 42.75 51.8792C43.12 51.632 43.555 51.5 44.0001 51.5C44.5968 51.5 45.1691 51.7371 45.591 52.159C46.013 52.581 46.2501 53.1533 46.2501 53.75Z"
                          fill="#FDBA22"
                        />
                        <circle
                          cx="63"
                          cy="18"
                          r="2"
                          fill="#FDBA22"
                        />
                        <circle
                          cx="20"
                          cy="57"
                          r="2"
                          fill="#FDBA22"
                        />
                        <path
                          d="M23 20.2679L23 23.732L20 22L23 20.2679Z"
                          fill="#D89918"
                        />
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M71 47C70.996 45.8968 70.1021 45.0037 69 45.0037C70.1046 45.0037 71 44.1066 71 43C71.004 44.1032 71.8979 44.9963 73 44.9963C71.8954 44.9963 71 45.8934 71 47Z"
                          fill="#D89918"
                        />
                      </svg>
                    )}

                    {alertType === "danger" && (
                      <svg
                        className="mx-auto"
                        width="88"
                        height="88"
                        viewBox="0 0 88 88"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <rect
                          width="88"
                          height="88"
                          rx="44"
                          fill="#FFEBEB"
                          fill-opacity="0.2"
                        />
                        <rect
                          x="10"
                          y="10"
                          width="68"
                          height="68"
                          rx="34"
                          fill="#FFBEBE"
                          fill-opacity="0.2"
                        />
                        <path
                          opacity="0.2"
                          d="M62 44C62 47.5601 60.9443 51.0402 58.9665 54.0003C56.9886 56.9604 54.1774 59.2675 50.8883 60.6298C47.5992 61.9922 43.98 62.3487 40.4884 61.6541C36.9967 60.9596 33.7894 59.2453 31.2721 56.7279C28.7547 54.2106 27.0404 51.0033 26.3459 47.5116C25.6513 44.02 26.0078 40.4008 27.3702 37.1117C28.7326 33.8226 31.0397 31.0114 33.9997 29.0335C36.9598 27.0557 40.4399 26 44 26C48.7739 26 53.3523 27.8964 56.7279 31.2721C60.1036 34.6477 62 39.2261 62 44Z"
                          fill="#FF3838"
                        />
                        <path
                          d="M51.0613 39.0613L46.1206 44L51.0613 48.9387C51.2006 49.0781 51.3112 49.2436 51.3866 49.4257C51.462 49.6077 51.5008 49.8029 51.5008 50C51.5008 50.1971 51.462 50.3923 51.3866 50.5743C51.3112 50.7564 51.2006 50.9219 51.0613 51.0613C50.9219 51.2006 50.7564 51.3112 50.5744 51.3866C50.3923 51.462 50.1971 51.5008 50 51.5008C49.8029 51.5008 49.6078 51.462 49.4257 51.3866C49.2436 51.3112 49.0781 51.2006 48.9388 51.0613L44 46.1206L39.0613 51.0613C38.9219 51.2006 38.7564 51.3112 38.5744 51.3866C38.3923 51.462 38.1971 51.5008 38 51.5008C37.8029 51.5008 37.6078 51.462 37.4257 51.3866C37.2436 51.3112 37.0781 51.2006 36.9388 51.0613C36.7994 50.9219 36.6888 50.7564 36.6134 50.5743C36.538 50.3923 36.4992 50.1971 36.4992 50C36.4992 49.8029 36.538 49.6077 36.6134 49.4257C36.6888 49.2436 36.7994 49.0781 36.9388 48.9387L41.8794 44L36.9388 39.0613C36.6573 38.7798 36.4992 38.398 36.4992 38C36.4992 37.602 36.6573 37.2202 36.9388 36.9387C37.2202 36.6573 37.602 36.4992 38 36.4992C38.3981 36.4992 38.7798 36.6573 39.0613 36.9387L44 41.8794L48.9388 36.9387C49.0781 36.7994 49.2436 36.6888 49.4257 36.6134C49.6078 36.538 49.8029 36.4992 50 36.4992C50.1971 36.4992 50.3923 36.538 50.5744 36.6134C50.7564 36.6888 50.9219 36.7994 51.0613 36.9387C51.2006 37.0781 51.3112 37.2436 51.3866 37.4257C51.462 37.6077 51.5008 37.8029 51.5008 38C51.5008 38.1971 51.462 38.3923 51.3866 38.5743C51.3112 38.7564 51.2006 38.9219 51.0613 39.0613ZM63.5 44C63.5 47.8567 62.3564 51.6269 60.2137 54.8336C58.071 58.0404 55.0255 60.5397 51.4623 62.0156C47.8992 63.4916 43.9784 63.8777 40.1957 63.1253C36.4131 62.3729 32.9386 60.5157 30.2114 57.7886C27.4843 55.0615 25.6271 51.5869 24.8747 47.8043C24.1223 44.0216 24.5084 40.1008 25.9844 36.5377C27.4603 32.9745 29.9596 29.929 33.1664 27.7863C36.3731 25.6437 40.1433 24.5 44 24.5C49.1701 24.5055 54.1268 26.5617 57.7826 30.2174C61.4383 33.8732 63.4945 38.83 63.5 44ZM60.5 44C60.5 40.7366 59.5323 37.5465 57.7193 34.8331C55.9062 32.1197 53.3293 30.0048 50.3143 28.756C47.2993 27.5071 43.9817 27.1804 40.781 27.817C37.5803 28.4537 34.6403 30.0252 32.3327 32.3327C30.0252 34.6403 28.4537 37.5803 27.8171 40.781C27.1804 43.9817 27.5072 47.2993 28.756 50.3143C30.0048 53.3293 32.1197 55.9062 34.8331 57.7192C37.5465 59.5323 40.7366 60.5 44 60.5C48.3746 60.495 52.5685 58.7551 55.6618 55.6618C58.7551 52.5685 60.495 48.3745 60.5 44Z"
                          fill="#FF3838"
                        />
                        <circle
                          cx="63"
                          cy="18"
                          r="2"
                          fill="#FF3838"
                        />
                        <circle
                          cx="20"
                          cy="57"
                          r="2"
                          fill="#FF3838"
                        />
                        <path
                          d="M22.9996 20.2681L22.9996 23.7322L19.9996 22.0001L22.9996 20.2681Z"
                          fill="#DD2525"
                        />
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M71 47C70.996 45.8968 70.1021 45.0037 69 45.0037C70.1046 45.0037 71 44.1066 71 43C71.004 44.1032 71.8979 44.9963 73 44.9963C71.8954 44.9963 71 45.8934 71 47Z"
                          fill="#DD2525"
                        />
                      </svg>
                    )}

                    {alertType === "success" && (
                      <svg
                        className="mx-auto"
                        width="88"
                        height="88"
                        viewBox="0 0 88 88"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <rect
                          width="88"
                          height="88"
                          rx="44"
                          fill="#DCFCE4"
                          fill-opacity="0.2"
                        />
                        <rect
                          x="10"
                          y="10"
                          width="68"
                          height="68"
                          rx="34"
                          fill="#BAFBD0"
                          fill-opacity="0.2"
                        />
                        <path
                          opacity="0.2"
                          d="M63.5 44C63.5 46.3456 60.1588 48.1156 59.2475 50.3169C58.37 52.4394 59.5137 56.0637 57.7887 57.7887C56.0637 59.5137 52.4394 58.37 50.3169 59.2475C48.125 60.1588 46.3438 63.5 44 63.5C41.6562 63.5 39.875 60.1588 37.6831 59.2475C35.5606 58.37 31.9362 59.5137 30.2112 57.7887C28.4862 56.0637 29.63 52.4394 28.7525 50.3169C27.8412 48.125 24.5 46.3438 24.5 44C24.5 41.6562 27.8412 39.875 28.7525 37.6831C29.63 35.5625 28.4862 31.9362 30.2112 30.2112C31.9362 28.4862 35.5625 29.63 37.6831 28.7525C39.8844 27.8412 41.6562 24.5 44 24.5C46.3438 24.5 48.125 27.8412 50.3169 28.7525C52.4394 29.63 56.0637 28.4862 57.7887 30.2112C59.5137 31.9362 58.37 35.5606 59.2475 37.6831C60.1588 39.8844 63.5 41.6562 63.5 44Z"
                          fill="#1A857D"
                        />
                        <path
                          d="M62.3488 39.2787C61.6419 38.54 60.9106 37.7788 60.635 37.1094C60.38 36.4963 60.365 35.48 60.35 34.4956C60.3219 32.6656 60.2919 30.5919 58.85 29.15C57.4081 27.7081 55.3344 27.6781 53.5044 27.65C52.52 27.635 51.5037 27.62 50.8906 27.365C50.2231 27.0894 49.46 26.3581 48.7212 25.6512C47.4275 24.4081 45.9575 23 44 23C42.0425 23 40.5744 24.4081 39.2787 25.6512C38.54 26.3581 37.7788 27.0894 37.1094 27.365C36.5 27.62 35.48 27.635 34.4956 27.65C32.6656 27.6781 30.5919 27.7081 29.15 29.15C27.7081 30.5919 27.6875 32.6656 27.65 34.4956C27.635 35.48 27.62 36.4963 27.365 37.1094C27.0894 37.7769 26.3581 38.54 25.6512 39.2787C24.4081 40.5725 23 42.0425 23 44C23 45.9575 24.4081 47.4256 25.6512 48.7212C26.3581 49.46 27.0894 50.2213 27.365 50.8906C27.62 51.5037 27.635 52.52 27.65 53.5044C27.6781 55.3344 27.7081 57.4081 29.15 58.85C30.5919 60.2919 32.6656 60.3219 34.4956 60.35C35.48 60.365 36.4963 60.38 37.1094 60.635C37.7769 60.9106 38.54 61.6419 39.2787 62.3488C40.5725 63.5919 42.0425 65 44 65C45.9575 65 47.4256 63.5919 48.7212 62.3488C49.46 61.6419 50.2213 60.9106 50.8906 60.635C51.5037 60.38 52.52 60.365 53.5044 60.35C55.3344 60.3219 57.4081 60.2919 58.85 58.85C60.2919 57.4081 60.3219 55.3344 60.35 53.5044C60.365 52.52 60.38 51.5037 60.635 50.8906C60.9106 50.2231 61.6419 49.46 62.3488 48.7212C63.5919 47.4275 65 45.9575 65 44C65 42.0425 63.5919 40.5744 62.3488 39.2787ZM60.1831 46.6456C59.285 47.5831 58.355 48.5525 57.8619 49.7431C57.3894 50.8869 57.3687 52.1937 57.35 53.4594C57.3312 54.7719 57.3106 56.1463 56.7275 56.7275C56.1444 57.3088 54.7794 57.3312 53.4594 57.35C52.1937 57.3687 50.8869 57.3894 49.7431 57.8619C48.5525 58.355 47.5831 59.285 46.6456 60.1831C45.7081 61.0812 44.75 62 44 62C43.25 62 42.2844 61.0775 41.3544 60.1831C40.4244 59.2887 39.4475 58.355 38.2569 57.8619C37.1131 57.3894 35.8063 57.3687 34.5406 57.35C33.2281 57.3312 31.8538 57.3106 31.2725 56.7275C30.6912 56.1444 30.6687 54.7794 30.65 53.4594C30.6312 52.1937 30.6106 50.8869 30.1381 49.7431C29.645 48.5525 28.715 47.5831 27.8169 46.6456C26.9187 45.7081 26 44.75 26 44C26 43.25 26.9225 42.2844 27.8169 41.3544C28.7112 40.4244 29.645 39.4475 30.1381 38.2569C30.6106 37.1131 30.6312 35.8063 30.65 34.5406C30.6687 33.2281 30.6894 31.8538 31.2725 31.2725C31.8556 30.6912 33.2206 30.6687 34.5406 30.65C35.8063 30.6312 37.1131 30.6106 38.2569 30.1381C39.4475 29.645 40.4169 28.715 41.3544 27.8169C42.2919 26.9187 43.25 26 44 26C44.75 26 45.7156 26.9225 46.6456 27.8169C47.5756 28.7112 48.5525 29.645 49.7431 30.1381C50.8869 30.6106 52.1937 30.6312 53.4594 30.65C54.7719 30.6687 56.1463 30.6894 56.7275 31.2725C57.3088 31.8556 57.3312 33.2206 57.35 34.5406C57.3687 35.8063 57.3894 37.1131 57.8619 38.2569C58.355 39.4475 59.285 40.4169 60.1831 41.3544C61.0812 42.2919 62 43.25 62 44C62 44.75 61.0775 45.7156 60.1831 46.6456ZM52.5613 38.4387C52.7007 38.5781 52.8114 38.7435 52.8868 38.9256C52.9623 39.1077 53.0012 39.3029 53.0012 39.5C53.0012 39.6971 52.9623 39.8923 52.8868 40.0744C52.8114 40.2565 52.7007 40.4219 52.5613 40.5613L42.0613 51.0613C41.9219 51.2007 41.7565 51.3114 41.5744 51.3868C41.3923 51.4623 41.1971 51.5012 41 51.5012C40.8029 51.5012 40.6077 51.4623 40.4256 51.3868C40.2435 51.3114 40.0781 51.2007 39.9387 51.0613L35.4387 46.5613C35.1573 46.2798 34.9992 45.898 34.9992 45.5C34.9992 45.102 35.1573 44.7202 35.4387 44.4387C35.7202 44.1573 36.102 43.9992 36.5 43.9992C36.898 43.9992 37.2798 44.1573 37.5613 44.4387L41 47.8794L50.4387 38.4387C50.5781 38.2993 50.7435 38.1886 50.9256 38.1132C51.1077 38.0377 51.3029 37.9988 51.5 37.9988C51.6971 37.9988 51.8923 38.0377 52.0744 38.1132C52.2565 38.1886 52.4219 38.2993 52.5613 38.4387Z"
                          fill="#1A857D"
                        />
                        <circle
                          cx="63"
                          cy="18"
                          r="2"
                          fill="#27A590"
                        />
                        <circle
                          cx="20"
                          cy="57"
                          r="2"
                          fill="#27A590"
                        />
                        <path
                          d="M23.0001 20.2679L23.0001 23.732L20.0001 22L23.0001 20.2679Z"
                          fill="#1A857D"
                        />
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M71 47C70.996 45.8968 70.1021 45.0037 69 45.0037C70.1046 45.0037 71 44.1066 71 43C71.004 44.1032 71.8979 44.9963 73 44.9963C71.8954 44.9963 71 45.8934 71 47Z"
                          fill="#1A857D"
                        />
                      </svg>
                    )}

                    <Dialog.Title
                      as="h3"
                      className="font-medium leading-6 text-[#262626] mt-4"
                    >
                      {title}
                    </Dialog.Title>
                    <div className="mt-1 mb-6">
                      <p className="text-sm text-[#7C7C7C]">{subTitle}</p>
                    </div>

                    {alertType !== "success" && (
                      <>
                        <div className="space-y-4">
                          <button
                            className={cx(
                              "rounded-full w-full h-[2.5rem] font-semibold disabled:opacity-70 flex flex-row justify-center items-center focus:outline-none",
                              {
                                "bg-[#FDBA22] text-white":
                                  alertType === "warning",
                                "bg-[#FF3838] text-white":
                                  alertType === "danger",
                              },
                            )}
                            onClick={onConfirm}
                          >
                            {yesText}
                          </button>
                          <button
                            className={cx(
                              "rounded-full w-full h-[2.5rem] font-semibold disabled:opacity-70 flex flex-row justify-center items-center focus:outline-none",
                              {
                                "text-[#FDBA22]": alertType === "warning",
                                "text-[#FF3838]": alertType === "danger",
                              },
                            )}
                            onClick={onClose}
                          >
                            {noText}
                          </button>
                        </div>
                      </>
                    )}
                  </div>
                </Dialog.Panel>
              </Transition.Child>
            </div>
          </div>
        </Dialog>
      </Transition>
    </>
  );
}
